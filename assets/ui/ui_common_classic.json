{
  "namespace": "common-classic",
  
  //---------------------------------------------------------------------------
  // Common controls
  //---------------------------------------------------------------------------

  "button": {
    "type": "button",
    "layer": 1,
    "size": [ 100, 20 ],
    "sound_name": "random.click",
    "sound_volume": 1.0,
    "sound_pitch": 1.0,
    "default_control": "default",
    "hover_control": "hover",
    "pressed_control": "pressed",
    "focus_enabled": true,
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "focused"
      }
    ]
  },

  "toggle": {
    "type": "toggle",
    "layer": 1,
    "size": [ 16, 13 ],
    "sound_name": "random.click",
    "sound_volume": 1.0,
    "sound_pitch": 1.0,

    "checked_control": "checked",
    "unchecked_control": "unchecked",
    "checked_hover_control": "checked_hover",
    "unchecked_hover_control": "unchecked_hover",
    "checked_locked_control": "checked_locked",
    "unchecked_locked_control": "unchecked_locked",

    "focus_enabled": true,

    "$radio_toggle_group|default": false,
    "$toggle_default_state|default": false,
    "$toggle_group_forced_index|default": -1,
    "$toggle_group_default_selected|default": 0,
    "$toggle_binding_type|default": "global",
    "$toggle_binding_condition|default": "visible",
    "$toggle_state_binding_name|default": "#toggle_state",
    "$toggle_grid_collection_name|default": "",

    "radio_toggle_group": "$radio_toggle_group",
    "toggle_name": "$toggle_name",
    "toggle_default_state": "$toggle_default_state",
    "toggle_group_forced_index": "$toggle_group_forced_index",
    "toggle_group_default_selected": "$toggle_group_default_selected",
    "toggle_grid_collection_name": "$toggle_grid_collection_name",

    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.menu_select",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "button.menu_ok",
        "mapping_type": "focused"
      }
    ],
    "controls": [
      { "unchecked@$unchecked_control": { } },
      { "checked@$checked_control": { } },
      { "unchecked_hover@$unchecked_hover_control": { } },
      { "checked_hover@$checked_hover_control": { } },
      { "unchecked_locked@$unchecked_locked_control": { } },
      { "checked_locked@$checked_locked_control": { } }
    ],
    "property_bag": {
      "#toggle_state": true
    },
    "bindings": [
      {
        "binding_type": "$toggle_binding_type",
        "binding_condition": "$toggle_binding_condition",
        "binding_collection_name": "$toggle_grid_collection_name",
        "binding_name": "$toggle_state_binding_name",
        "binding_name_override": "#toggle_state"
      }
    ]
  },

  "radio_toggle@common.toggle": {
    "$unchecked_control": "common.radio_toggle_unchecked_state",
    "$checked_control": "common.radio_toggle_checked_state",
    "$unchecked_hover_control": "common.radio_toggle_unchecked_hover_state",
    "$checked_hover_control": "common.radio_toggle_checked_hover_state",
    "$unchecked_locked_control": "common.radio_toggle_unchecked_locked_state",
    "$checked_locked_control": "common.radio_toggle_checked_locked_state",
    "$radio_toggle_group": true
  },

  "checkbox@common.toggle": {
    "$unchecked_control": "common.checkbox_unchecked_state",
    "$checked_control": "common.checkbox_checked_state",
    "$unchecked_hover_control": "common.checkbox_unchecked_hover_state",
    "$checked_hover_control": "common.checkbox_checked_hover_state",
    "$unchecked_locked_control": "common.checkbox_unchecked_locked_state",
    "$checked_locked_control": "common.checkbox_checked_locked_state"
  },

  "tab": {
    "type": "tab",
    "layer": 1,
    "size": [ 100, 20 ],
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.menu_select",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "button.menu_select",
        "mapping_type": "focused"
      }
    ]
  },

  "tab_button@tab": {
    "sound_name": "random.click",
    "sound_volume": 1.0,
    "sound_pitch": 1.0,
    "default_control": "default",
    "hover_control": "hover",
    "pressed_control": "pressed"
  },

  "rotating_text": {
    "type": "carousel_label",
    "shadow": true,
    "alignment": "top_left",
    "color": [ 1.0, 1.0, 1.0, 1.0 ],
    "clip": true,
    "text": "Override this text, this is the default!",
    "always_rotate": false,
    "rotate_speed": 0.1,
    "hover_color": [ 1.0, 1.0, 0.2, 1.0 ],
    "hover_alpha": 1.0,
    "pressed_color": [ 1.0, 1.0, 0.2, 1.0 ],
    "pressed_alpha": 0.65,

    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.menu_select",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "button.menu_select",
        "mapping_type": "focused"
      }
    ]
  },

  "button_text": {
    "type": "label",
    "layer": 1,
    "shadow": true
  },

  "button_state": {
    "type": "image",
    "texture": "gui/gui.png",
    "layer": 2,
    "tiled": true,
    "nineslice_size": 3.0,
    "uv_size": [ 200, 20 ]
  },

  "button_state_default@button_state": {
    "uv": [ 0, 66 ]
  },

  "button_state_hover@button_state": {
    "uv": [ 0, 86 ]
  },

  "button_state_pressed@button_state": {
    "uv": [ 0, 86 ],
    "alpha": 0.65
  },

  "toggle_state_template": {
    "type": "image",
    "layer": 2,
    "uv_size": [ 16, 13 ],
    "size": [ 16, 13 ]
  },

  "checkbox_checked_state@toggle_state_template": {
    "texture": "gui/newgui/buttons/checkbox/checkbox_checked.png"
  },

  "checkbox_unchecked_state@toggle_state_template": {
    "texture": "gui/newgui/buttons/checkbox/checkbox_unchecked.png"
  },

  "checkbox_checked_hover_state@toggle_state_template": {
    "texture": "gui/newgui/buttons/checkbox/checkbox_checked_hover.png"
  },

  "checkbox_unchecked_hover_state@toggle_state_template": {
    "texture": "gui/newgui/buttons/checkbox/checkbox_unchecked_hover.png"
  },

  "checkbox_checked_locked_state@toggle_state_template": {
    "texture": "gui/newgui/buttons/checkbox/checkbox_checked_disabled.png"
  },

  "checkbox_unchecked_locked_state@toggle_state_template": {
    "texture": "gui/newgui/buttons/checkbox/checkbox_unchecked_disabled.png"
  },

  "radio_toggle_checked_state@toggle_state_template": {
    "texture": "gui/newgui/buttons/checkbox/checkbox_filled.png"
  },

  "radio_toggle_unchecked_state@checkbox_unchecked_state": { },

  "radio_toggle_checked_hover_state@toggle_state_template": {
    "texture": "gui/newgui/buttons/checkbox/checkbox_filled_hover.png"
  },

  "radio_toggle_unchecked_hover_state@checkbox_unchecked_hover_state": { },

  "radio_toggle_checked_locked_state@toggle_state_template": {
    "texture": "gui/newgui/buttons/checkbox/checkbox_filled_disabled.png"
  },

  "radio_toggle_unchecked_locked_state@checkbox_unchecked_locked_state": { },

  "focus_border_white": {
    "type": "image",
    "nineslice_size": 1.0,
    "texture": "gui/newgui/focusBorder.png",
    "uv": [ 0, 0 ],
    "uv_size": [ 5, 5 ]
  },
  "focus_border_yellow@common.focus_border_white": {
    "color": [ 1.0, 1.0, 0.0, 1.0 ]
  },

  "default_indent": {
    "type": "image",
    "nineslice_size": 2.0,
    "texture": "gui/newgui/play_screen/Indent2.png",
    "uv": [ 0, 0 ],
    "uv_size": [ 5, 5 ]
  },

  "edit_box_indent@common.default_indent": {
    "controls": [
      {
        "@common.focus_border_white": { "allow_clipping": false }
      }
    ]
  },

  "text_edit_box_label": {
    "type": "label",

    "localize": false,
    "shadow": "$shadow",
    "color": "$color",
    "font_size": "$font_size",
    "wrap": "$wrap",
    "alignment": "$alignment",

    "$shadow|default": false,
    "$color|default": [ 1.0, 1.0, 1.0, 1.0 ],
    "$font_size|default": "large",
    "$wrap|default": false,
    "$alignment|default": "left_middle",

    "$text_edit_box_content_binding_type|default": "global",
    "$text_edit_box_content_binding_name|default": "#text_box_item_name",
    "$text_box_name|default": "#text_box_name",

    "$use_place_holder|default": false,
    "$place_holder_text|default": "",
    "$place_holder_text_color|default": [ 1.0, 1.0, 1.0, 0.0 ],

    "use_place_holder": "$use_place_holder",
    "place_holder_text": "$place_holder_text",
    "place_holder_text_color": "$place_holder_text_color",
    "text": "#item_name",
    "$text_edit_box_binding_type": "global",
    "$text_edit_box_binding_collection_name": "",
    "bindings": [
      {
        "binding_type": "$text_edit_box_content_binding_type",
        "binding_condition": "visible",
        "binding_collection_name": "$text_edit_box_grid_collection_name",
        "binding_name": "$text_edit_box_content_binding_name",
        "binding_name_override": "#item_name"
      },
      {
        "binding_name": "#edit_box_text_color",
        "binding_name_override": "#color"
      }
    ]
  },

  "text_edit_box": {
    "type": "edit_box",
    "anchor_from": "center",
    "anchor_to": "center",
    "layer": 1,
    "focus_enabled": true,
    "enabled": "#enabled",
    "clips_children": true,
    "clip_offset": [ 1, 0 ],

    "$text_box_name|default": "#text_box_name",
    "$text_box_enabled_binding_name|default": "#text_box_enabled",
    "$text_edit_box_enable_binding_type|default": "global",
    "$text_edit_box_grid_collection_name|default": "",

    "text_box_name": "$text_box_name",
    "text_edit_box_grid_collection_name": "$text_edit_box_grid_collection_name",

    "bindings": [
      {
        "binding_type": "$text_edit_box_enable_binding_type",
        "binding_condition": "visible",
        "binding_collection_name": "$text_edit_box_grid_collection_name",
        "binding_name": "$text_box_enabled_binding_name",
        "binding_name_override": "#enabled"
      }
    ],

    "default_control": "default",
    "hover_control": "hover",
    "pressed_control": "pressed",

    "max_length": 14,
    "text_type": "ExtendedASCII",
    "text_control": "display_text",

    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.menu_select",
        "handle_select": true,
        "handle_deselect": false,
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "button.menu_select",
        "handle_select": true,
        "handle_deselect": true,
        "mapping_type": "focused"
      },
      {
        "from_button_id": "button.menu_cancel",
        "to_button_id": "button.menu_exit",
        "handle_select": false,
        "handle_deselect": true,
        "mapping_type": "global"
      }
    ],

    "controls": [
      {
        "display_text@common.text_edit_box_label": {
          "layer": 1,
          "offset": [ 2, 0 ]
          //"text": "$text"
        }
      },
      { "default@common.default_indent": { "allow_clipping": false } },
      { "hover@common.edit_box_indent": { "allow_clipping": false } },
      { "pressed@common.edit_box_indent": { "allow_clipping": false } }
    ]
  },

  "hyperlink_button@button": {
    "$pressed_button_name": "button.menu_open_uri",
    "anchor_to": "center",
    "anchor_from": "center",
    "size": [ "100%", "100%" ],
    "property_bag": {
      "#hyperlink": ""
    }
  },

  "dirt_background": {
    "ignored": "$is_holographic",
    "type": "image",
    "size": [ 32, 32 ],
    "texture": "gui/bg32.png",
    "layer": 1,
    "uv": [ 0, 0 ],
    "uv_size": [ 32, 32 ],
    "tiled": true
  },

  /////////////////////////////////////////////////////////////////////////////
  // Gamepad helper common
  /////////////////////////////////////////////////////////////////////////////

  "gamepad_helper_icon_text": {
    "type": "label",
    "alignment": "center",
    "layer": 101,
    "offset": [ 0, 1 ],
    "text": "$icon_text",
    "color": "$icon_text_color"
  },

  "gamepad_helper_icon_description": {
    "type": "label",
    "anchor_from": "right_middle",
    "anchor_to": "left_middle",
    "alignment": "top_left",
    "layer": 101,
    "offset": [ 1, 3 ],
    "shadow": true,
    "text": "$icon_description_bind",
    "bindings": [
      {
        "binding_name": "$icon_description_bind",
        "binding_condition": "visible"
      }
    ]
  },

  "gamepad_helper_icon_image": {
    "type": "image",
    "texture": "gui/spritesheet.png",
    "layer": 100
  },

  "gamepad_helper": {
    "type": "panel",
    "layer": -1,
    "$icon_text": "",
    "$icon_text_color": [ 0.0, 0.0, 0.0 ],
    "bindings": [
      {
        "binding_name": "#gamepad_helper_visible",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      {
        "$icon_image_ref": {
          "controls": [
            {
              "text@gamepad_helper_icon_text": { }
            },
            {
              "desc@gamepad_helper_icon_description": { }
            }
          ]
        }
      }
    ]
  },

  "gamepad_helpers": {
    "type": "panel",
    "anchor_from": "bottom_middle",
    "anchor_to": "bottom_middle",
    "size": [ "98%", 16 ]
  },

  "container_gamepad_helpers@gamepad_helpers": {
    "controls": [
      {
        "@common.gamepad_helper_a": {
          "size": [ 36, "100%" ],
          "anchor_from": "left_middle",
          "anchor_to": "left_middle"
        }
      },
      {
        "@common.gamepad_helper_b": {
          "offset": [ 36, 0 ],
          "size": [ 72, "100%" ],
          "anchor_from": "left_middle",
          "anchor_to": "left_middle"
        }
      },
      {
        "@common.gamepad_helper_x": {
          "offset": [ -100, 0 ],
          "size": [ 72, "100%" ],
          "anchor_from": "right_middle",
          "anchor_to": "right_middle"
        }
      },
      {
        "@common.gamepad_helper_y": {
          "size": [ 100, "100%" ],
          "offset": [ -10, 0 ],
          "anchor_from": "right_middle",
          "anchor_to": "right_middle"
        }
      }
    ]
  },

  // Buttons
  /////////////////////////////////////////////////////////////////////////////

  "gamepad_icon_button@gamepad_helper_icon_image": {
    "uv": [ 241, 115 ],
    "uv_size": [ 15, 13 ],
    "size": [ 15, 13 ]
  },

  "gamepad_helper_a@gamepad_helper": {
    "$icon_text": "A",
    "$icon_text_color": [ 0.0, 1.0, 0.0 ],
    "$icon_description_bind": "#button_a_description",
    "$icon_image_ref": "icon@gamepad_icon_button"
  },

  "gamepad_helper_b@gamepad_helper": {
    "$icon_text": "B",
    "$icon_text_color": [ 1.0, 0.0, 0.0 ],
    "$icon_description_bind": "#button_b_description",
    "$icon_image_ref": "icon@gamepad_icon_button"
  },

  "gamepad_helper_x@gamepad_helper": {
    "$icon_text": "X",
    "$icon_text_color": [ 0.0, 0.0, 1.0 ],
    "$icon_description_bind": "#button_x_description",
    "$icon_image_ref": "icon@gamepad_icon_button"
  },

  "gamepad_helper_y@gamepad_helper": {
    "$icon_text": "Y",
    "$icon_text_color": [ 1.0, 1.0, 0.0 ],
    "$icon_description_bind": "#button_y_description",
    "$icon_image_ref": "icon@gamepad_icon_button"
  },

  "grey_gamepad_icon_button@gamepad_icon_button": {
    "uv": [ 113, 115 ]
  },

  "grey_gamepad_helper_a@gamepad_helper_a": {
    "$icon_text_color": [ 1.0, 1.0, 1.0 ],
    "$icon_image_ref": "icon@grey_gamepad_icon_button"
  },

  "grey_gamepad_helper_b@gamepad_helper_b": {
    "$icon_text_color": [ 1.0, 1.0, 1.0 ],
    "$icon_image_ref": "icon@grey_gamepad_icon_button"
  },

  "grey_gamepad_helper_y@gamepad_helper_y": {
    "$icon_text_color": [ 1.0, 1.0, 1.0 ],
    "$icon_image_ref": "icon@grey_gamepad_icon_button"
  },


  // Triggers
  /////////////////////////////////////////////////////////////////////////////

  "gamepad_icon_left_trigger@gamepad_helper_icon_image": {
    "uv": [ 241, 71 ],
    "uv_size": [ 13, 27 ],
    "size": [ 13, 27 ]
  },

  "gamepad_helper_left_trigger@gamepad_helper": {
    "$icon_description_bind": "#button_left_trigger_description",
    "$icon_image_ref": "icon@gamepad_icon_left_trigger"
  },

  "gamepad_icon_right_trigger@gamepad_helper_icon_image": {
    "uv": [ 222, 71 ],
    "uv_size": [ 13, 27 ],
    "size": [ 13, 27 ]
  },

  "gamepad_helper_right_trigger@gamepad_helper": {
    "$icon_description_bind": "#button_right_trigger_description",
    "$icon_image_ref": "icon@gamepad_icon_right_trigger"
  },

  // D-Pad
  /////////////////////////////////////////////////////////////////////////////

  "gamepad_icon_dpad@gamepad_helper_icon_image": {
    "uv": [ 219, 107 ],
    "uv_size": [ 21, 21 ],
    "size": [ 21, 21 ]
  },

  "gamepad_helper_dpad@gamepad_helper": {
    "$icon_description_bind": "#button_dpad_description",
    "$icon_image_ref": "icon@gamepad_icon_dpad"
  },

  // Thumbstick
  /////////////////////////////////////////////////////////////////////////////

  "gamepad_icon_thumbstick@gamepad_helper_icon_image": {
    "uv": [ 223, 58 ],
    "uv_size": [ 12, 9 ],
    "size": [ 12, 9 ]
  },

  "gamepad_helper_thumbstick@gamepad_helper": {
    "$icon_description_bind": "#button_thumbstick_description",
    "$icon_image_ref": "icon@gamepad_icon_thumbstick"
  },

  // Bumpers
  /////////////////////////////////////////////////////////////////////////////

  "gamepad_icon_left_bumper@gamepad_helper_icon_image": {
    "uv": [ 225, 26 ],
    "uv_size": [ 27, 13 ],
    "size": [ 27, 13 ]
  },

  "gamepad_helper_left_bumper@gamepad_helper": {
    "$icon_description_bind": "#button_left_bumper_description",
    "$icon_image_ref": "icon@gamepad_icon_left_bumper"
  },

  "gamepad_icon_right_bumper@gamepad_helper_icon_image": {
    "uv": [ 225, 42 ],
    "uv_size": [ 27, 13 ],
    "size": [ 27, 13 ]
  },

  "gamepad_helper_right_bumper@gamepad_helper": {
    "$icon_description_bind": "#button_right_bumper_description",
    "$icon_image_ref": "icon@gamepad_icon_right_bumper"
  },

  //---------------------------------------------------------------------------
  // Common inventory
  //---------------------------------------------------------------------------

  "dialog_background_common": {
    "type": "image",
    "texture": "gui/newgui/dialog-background-atlas.png",
    "layer": 1
  },

  "dialog_background_hollow_common@dialog_background_common": {
    "layer": 2,
    "$fill_alpha": 0.7,
    "controls": [
      {
        "": {
          "type": "image",
          "texture": "gui/newgui/dialog-background-atlas.png",
          "layer": -1,
          "size": [ "100% - 8px", "100% - 8px" ],
          "uv": [ 14, 75 ],
          "uv_size": [ 2, 2 ],
          "alpha": "$fill_alpha"
        }
      }
    ]
  },

  "dialog_background_opaque@dialog_background_common": {
    "nineslice_size": 4.0,
    "uv": [ 0, 80 ],
    "uv_size": [ 16, 16 ]
  },

  "dialog_background_hollow_1@dialog_background_hollow_common": {
    "nineslice_size": [ 6, 20, 6, 53 ],
    "uv": [ 0, 0 ],
    "uv_size": [ 14, 75 ]
  },

  "dialog_background_hollow_2@dialog_background_hollow_common": {
    "nineslice_size": [ 6, 20, 6, 40 ],
    "uv": [ 14, 0 ],
    "uv_size": [ 14, 62 ]
  },

  "dialog_background_hollow_3@dialog_background_hollow_common": {
    "nineslice_size": [ 6, 20, 6, 6 ],
    "uv": [ 28, 0 ],
    "uv_size": [ 14, 28 ]
  },

  "dialog_background_hollow_4@dialog_background_hollow_common": {
    "nineslice_size": [ 6, 6, 6, 6 ],
    "uv": [ 42, 0 ],
    "uv_size": [ 14, 14 ]
  },

  "normal_button": {
    "type": "image",
    "texture": "gui/newgui/NormalButtonNoStroke.png",
    "layer": 1,
    "nineslice_size": 4.0,
    "uv": [ 0, 0 ],
    "uv_size": [ 10, 10 ]
  },

  "normal_stroke_button": {
    "type": "image",
    "texture": "gui/newgui/NormalButtonStroke.png",
    "layer": 1,
    "nineslice_size": 4.0,
    "uv": [ 0, 0 ],
    "uv_size": [ 12, 12 ]
  },

  "section_heading_label": {
    "type": "label",
    "layer": 1,
    "size": [ 1, 1 ],
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "alignment": "top_left",
    "color": [ 0.25, 0.25, 0.25, 1.0 ]
  },

  "close_button_image": {
    "type": "image",
    "layer": 1,
    "texture": "$close_button_texture",
    "uv": [ 0, 0 ],
    "uv_size": [ 7, 7 ],
    "size": [ 7, 7 ]
  },

  "close_button_panel": {
    "type": "panel",
    "layer": 1,
    "size": [ 10, 10 ],
    "controls": [
      { "@close_button_image": { } }
    ]
  },

  "close_button": {
    "type": "button",
    "size": [ 15, 15 ],
    "layer": 10,
    "anchor_from": "top_right",
    "anchor_to": "top_right",
    "offset": [ 1, -1 ],
    "default_control": "default",
    "hover_control": "hover",
    "pressed_control": "pressed",
    "focus_enabled": false,
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.menu_exit",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "button.menu_exit",
        "mapping_type": "focused"
      }
    ],
    "controls": [
      {
        "default@close_button_panel": {
          "$close_button_texture": "gui/newgui/X.png"
        }
      },
      {
        "hover@close_button_panel": {
          "$close_button_texture": "gui/newgui/XHover.png"
        }
      },
      {
        "pressed@close_button_panel": {
          "$close_button_texture": "gui/newgui/XPress.png"
        }
      }
    ]
  },

  "cell_image": {
    "type": "image",
    "texture": "gui/newgui/Indent.png",
    "layer": 1,
    "nineslice_size": 1.0,
    "uv": [ 0, 0 ],
    "uv_size": [ 5, 5 ]
  },

  "cell_overlay": {
    "ignored": true
  },

  "highlight_slot": {
    "type": "image",
    "texture": "gui/gui.png",
    "size": [ 16, 16 ],
    "layer": 10,
    "alpha": 0.5,
    "uv": [ 13, 196 ],
    "uv_size": [ 1, 1 ]
  },

  "highlight_slot_panel": {
    "type": "panel",
    "controls": [
      {
        "highlight@common.highlight_slot": {
          "ignored": "$touch",
          "controls": [
            {
              "hover_text@common.hover_text": {
                "layer": 99,
                "bindings": [
                  {
                    "binding_name": "#hover_text",
                    "binding_condition": "visible",
                    "binding_type": "collection",
                    "binding_collection_name": "$item_collection_name"
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },


  "pocket_ui_highlight_slot": {
    "type": "image",
    "texture": "gui/gui.png",
    "layer": 1,
    "size": [ "100%+2px", "100%+2px" ],
    "uv": [ 0, 22 ],
    "uv_size": [ 24, 24 ],
    "anchor_from": "center",
    "anchor_to": "center"
  },

  "hover_text": {
    "type": "custom",
    "renderer": "hover_text_renderer",
    "layer": 5,
    "allow_clipping": false
  },

  "screen_background": {
    "type": "image",
    "texture": "gui/gui.png",
    "layer": -10,
    "ignored": "$is_holographic",
    "alpha": 0.75,
    "uv": [ 0, 0 ],
    "uv_size": [ 1, 1 ]
  },

  "stack_count_label": {
    "type": "label",
    "alignment": "bottom_right",
    "layer": 7,
    "shadow": true,
    "text": "#inventory_stack_count",
    "bindings": [
      {
        "binding_name": "#inventory_stack_count",
        "binding_condition": "visible",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      }
    ]
  },

  "durability_bar": {
    "type": "custom",
    "renderer": "progress_bar_renderer",
    "layer": 10,
    "offset": [ 0, 5 ],
    "size": [ 12, 1 ],
    "property_bag": {
      "is_durability": true,
      "round_value": true
    },
    "bindings": [
      {
        "binding_name": "#item_durability_visible",
        "binding_name_override": "#progress_bar_visible",
        "binding_condition": "visible",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#item_durability_total_amount",
        "binding_name_override": "#progress_bar_total_amount",
        "binding_condition": "visible",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#item_durability_current_amount",
        "binding_name_override": "#progress_bar_current_amount",
        "binding_condition": "visible",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      }
    ]
  },

  "durability_bar_grabbed@durability_bar": {
    "layer": 107,
    "offset": [ "2%", 4.5 ],
    "size": [ "70%", 1 ],
    "bindings": [
      {
        "binding_name": "#selected_item_durability_visible",
        "binding_name_override": "#progress_bar_visible",
        "binding_condition": "visible"
      },
      {
        "binding_name": "#selected_item_durability_total_amount",
        "binding_name_override": "#progress_bar_total_amount",
        "binding_condition": "visible"
      },
      {
        "binding_name": "#selected_item_durability_current_amount",
        "binding_name_override": "#progress_bar_current_amount",
        "binding_condition": "visible"
      }
    ]
  },

  "item_renderer": {
    "type": "custom",
    "renderer": "inventory_item_renderer",
    "layer": 5,
    "offset": [ 1.5, 0 ],
    "bindings": [
      {
        "binding_name": "#item_id_aux",
        "binding_condition": "visible",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#item_custom_color",
        "binding_condition": "visible",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      }
    ]
  },
  
  //---------------------------------------------------------------------------
  // Scroll
  //---------------------------------------------------------------------------

  "scroll": {
    "type": "scrollbar",
    "layer": 6,
    "focus_enabled": false,
    "always_handle_pointer": true,
    "dampening": 0.9,
    "scroll_speed": 5,
    "scrollbar_box_track_button": "button.scrollbar_skip_track",
    "scrollbar_touch_button": "button.scrollbar_touch",
    "lock_touch_scrolling" :  "$lock_touch_scrolling",
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.scrollbar_touch",
        "mapping_type": "pressed",
        "button_up_right_of_first_refusal": true,
        "content_panel_scope": true
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.scrollbar_skip_track",
        "mapping_type": "pressed"
      }
    ]
  },

  "scroll_box": {
    "type": "scrollbar_box",
    "anchor_to": "top_left",
    "anchor_from": "top_left",
    "size": [ "100%", 16 ],
    "layer": 7,
    "focus_enabled": false,
    "contained": true,
    "draggable": "vertical",
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.menu_select",
        "mapping_type": "pressed",
        "button_up_right_of_first_refusal": true
      }
    ]
  },

  "scroll_box_indent": {
    "type": "image",
    "nineslice_size": 1.0,
    "texture": "gui/newgui/ScrollGutter.png",
    "uv": [ 0, 0 ],
    "uv_size": [ 3, 3 ],
    "layer": 1
  },

  "scrollbar_box_image": {
    "type": "image",
    "nineslice_size": 2.0,
    "texture": "gui/newgui/classic-button.png",
    "uv": [ 0, 0 ],
    "uv_size": [ 5, 5 ],
    "layer": 4
  },

  "anim_scrollbar_box_fadeout": {
    "anim_type": "alpha",
    "play_event": "scrollbar.released",
    "reset_event": "scrollbar.active",
    "easing": "in_sine",
    "duration": 1.5,
    "from": 1,
    "to": 0,
    "next": "@common.anim_scrollbar_box_fadeout"
  },

  "touch_scrollbar_box_image": {
    "type": "image",
    "visible": "$touch_bar_visible",
    "nineslice_size": 1.0,
    "texture": "gui/newgui/touchScrollBox.png",
    "uv": [ 0, 0 ],
    "uv_size": [ 1, 1 ],
    "layer": 3,
    "alpha": "@common.anim_scrollbar_box_fadeout"
  },

  "new_touch_scrollbar_box_image": {
    "type": "image",
    "visible": "$touch_bar_visible",
    "nineslice_size": 1.0,
    "texture": "gui/newgui/newTouchScrollBox.png",
    "uv": [ 0, 0 ],
    "uv_size": [ 1, 1 ],
    "layer": 3,
    "alpha": "@common.anim_scrollbar_box_fadeout"
  },

  "scroll_indent_image": {
    "type": "image",
    "nineslice_size": 2.0,
    "texture": "gui/newgui/play_screen/Indent2.png",
    "uv": [ 0, 0 ],
    "uv_size": [ 5, 5 ],
    "layer": 3
  },

  "scrolling_panel_base": {
    "type": "panel",
    "anchor_to": "top_middle",
    "anchor_from": "top_middle",
    "offset": [ 0, 5 ],
    "$bar_width|default": [ "9px", "100%-1px" ],
    "variables": [
      {
        "requires": "$touch",
        "$bar_width": [ "0%", "100%-1px" ]
      }
    ],
    "controls": [
      {
        "contents_indent@scroll_indent_image": {
          "offset": [ 0, -1 ],
          "visible": "$show_background",
          "anchor_to": "top_left",
          "anchor_from": "top_left",
          "size": "$contents_size"
        }
      },
      {
        "bar_indent@scroll_indent_image": {
          "visible": "$bar_visible",
          "anchor_from": "top_right",
          "anchor_to": "top_right",
          "size": "$bar_width"
        }
      },
      {
        "scroll_view": {
          "type": "panel",
          "anchor_to": "top_left",
          "anchor_from": "top_left",
          "size": [ "100%", "100%-2px" ],
          "clips_children": true,
          "controls": [
            {
              "$scroll_pane_name@common.scroll": {
                "size": "$bar_width",
                "anchor_from": "top_right",
                "anchor_to": "top_right",
                "scrollbar_box": "box",
                "touch_scroll_box": "touch_box",
                "content_panel": "scrolling_content",
                "controls": [
                  {
                    "box@common.scroll_box": {
                      "controls": [
                        {
                          "@common.scrollbar_box_image": {
                            "offset": [ 0, 1 ],
                            "size": [ "100%", "100%+2px" ],
                            "visible": "$bar_visible"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "touch_box@common.scroll_box": {
                      "anchor_from": "top_right",
                      "anchor_to": "top_right",
                      "size": [ 2, 0 ],
                      "visible": false,
                      "controls": [
                        { "@common.touch_scrollbar_box_image": { } }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "scrolling_content@$scrolling_content": {
                "offset": [ 1, 0 ],
                "size": "$contents_size"
              }
            }
          ]
        }
      }
    ]
  },

  "scrolling_panel": {
    "type": "panel",
    "$scrolling_pane_size|default": [ "100%", "100%" ],
    "$show_background": true,
    "controls": [
      {
        "scroll_touch@common.scrolling_panel_base": {
          "size": "$scrolling_pane_size",
          "ignored": "$not_touch",
          // if the content is not a dynamically generated grid, 100% vertical size will prevent scrolling
          "$contents_size": [ "100%", "100%" ],
          "$bar_visible": false,
          "$touch_bar_visible": true
        }
      },
      {
        "scroll_mouse@common.scrolling_panel_base": {
          "size": "$scrolling_pane_size",
          "ignored": "$touch",
          // if the content is not a dynamically generated grid, 100% vertical size will prevent scrolling
          "$contents_size": [ "97%-5px", "100%" ],
          "$bar_visible": true,
          "$touch_bar_visible": false
        }
      }
    ]
  },

  //---------------------------------------------------------------------------
  // Inventory Item
  //---------------------------------------------------------------------------

  "container_slot_button_prototype": {
    "type": "button",
    "focus_enabled": true,
    "default_focus_precedence": 1,
    "hover_control": "hover",
    "layer": 1,
    "bindings": [
      {
        "binding_type": "collection_details",
        "binding_condition": "visible",
        "binding_collection_name": "$item_collection_name"
      }
    ],
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.container_take_all_place_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "button.container_take_all_place_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_secondary_select",
        "to_button_id": "button.container_take_half_place_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_select",
        "to_button_id": "button.container_take_half_place_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_auto_place",
        "to_button_id": "button.container_auto_place",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_secondary_select",
        "to_button_id": "button.container_auto_place",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_inventory_drop",
        "to_button_id": "button.drop_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_inventory_drop_all",
        "to_button_id": "button.drop_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.coalesce_stack",
        "mapping_type": "double_pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "button.coalesce_stack",
        "mapping_type": "double_pressed"
      },
      {
        "to_button_id": "button.shape_drawing",
        "mapping_type": "pressed"
      },
      {
        "to_button_id": "button.container_slot_hovered",
        "mapping_type": "pressed"
      }
    ],
    "controls": [
      {
        "hover@common.highlight_slot_panel": { }
      }
    ]
  },

  "pocket_ui_container_slot": {
    "type": "button",
    "focus_enabled": true,
    "default_focus_precedence": 1,
    "layer": 1,
    "hover_control": "hover",
    "bindings": [
      {
        "binding_type": "collection_details",
        "binding_condition": "visible",
        "binding_collection_name": "$item_collection_name"
      }
    ],
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.container_take_all_place_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "button.container_take_all_place_all",
        "mapping_type": "focused"
      },
      {
        "from_button_id": "button.menu_auto_place",
        "to_button_id": "button.container_auto_place",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_secondary_select",
        "to_button_id": "button.container_auto_place",
        "mapping_type": "focused"
      }
    ],
    "controls": [
      {
        "hover": {
          "type": "panel",

          "controls": [
            {
              "highlight_square@common.pocket_ui_highlight_slot": {
                "visible": false,
                "bindings": [
                  {
                    "binding_name": "#gamepad_helper_visible",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "container_item": {
    "type": "panel",
    "layer": 1,
    "size": [ 18, 18 ],
    "anchor_to": "top_left",
    "anchor_from": "top_left",
    "$cell_image_size|default": [ 18, 18 ],
    "$cell_overlay_ref|default": "common.cell_overlay",
    "$button_ref|default": "common.container_slot_button_prototype",
    "$stack_count_visible|default": true,
    "controls": [
      {
        "item_cell@common.cell_image": {
          "size": "$cell_image_size",
          "controls": [
            {
              "item": {
                "type": "label",
                "size": [ 18, 18 ],
                "controls": [
                  {
                    "@common.stack_count_label": {
                      "visible": "$stack_count_visible"
                    }
                  },
                  {
                    "@common.item_renderer": {
                      "size": [ 18, 18 ]
                    }
                  }
                ]
              }
            },
            { "@common.durability_bar": { } }
          ]
        }
      },
      { "item_cell_overlay_ref@$cell_overlay_ref": { } },
      { "item_button_ref@$button_ref": { } }
    ]
  },

  "pocket_ui_container_item@container_item": {
    "type": "panel",
    "layer": 4,
    "size": [ 24, 24 ],
    "anchor_to": "center",
    "anchor_from": "center",
    "$cell_image_size": [ 24, 24 ],
    "$cell_overlay_ref": "common.cell_overlay",
    "$button_ref": "common.pocket_ui_container_slot",
    "controls": [
      {
        "item_cell@common.cell_image": {
          "size": "$cell_image_size",
          "texture": "gui/gui.png",
          "layer": 1,
          "nineslice_size": 14.0,
          "uv": [ 200, 46 ],
          "uv_size": [ 16, 16 ],
          "controls": [
            {
              "item": {
                "type": "label",
                "size": [ 18, 18 ],
                "controls": [
                  { "@common.stack_count_label": { "offset": [ 0, 0 ] } },
                  {
                    "@common.item_renderer": {
                      "size": [ 18, 18 ]
                    }
                  }                  
                ]
              }
            },
            { "@common.durability_bar": { } }
          ]
        }
      },
      { "item_cell_overlay_ref@$cell_overlay_ref": { } },
      { "item_button_ref@$button_ref": { } }
    ]
  },

  "pocket_ui_container_grid_item@common.pocket_ui_container_item": {
    "type": "grid_item"
  },

  // version of container_item for use in a grid
  "container_grid_item@common.container_item": {
    "type": "grid_item"
  },

  //---------------------------------------------------------------------------
  // Container panel
  //---------------------------------------------------------------------------

  "inventory_selected_icon@common.item_renderer": {
    "layer": 100,
    "size": [ "130%", "130%" ],
    "offset": [ 4, 2 ],
    "bindings": [
      {
        "binding_name": "#inventory_selected_item",
        "binding_name_override": "#item_id_aux",
        "binding_condition": "visible"
      },
      {
        "binding_name": "#inventory_selected_item_color",
        "binding_name_override": "#item_custom_color",
        "binding_condition": "visible"
      }
    ]
  },
  
  "inventory_selected_stack_size_text": {
    "type": "label",
    "layer": 103,
    "shadow": true,
    "alignment": "bottom_right",
    "color": [ 1.0, 1.0, 0.0, 1.0 ],
    "text": "#inventory_selected_item_stack_count",
    "bindings": [
      {
        "binding_name": "#inventory_selected_item_stack_count",
        "binding_condition": "visible"
      }
    ]
  },

  "inventory_hold_icon": {
    "type": "custom",
    "renderer": "progress_bar_renderer",
    "layer": 30,
    "offset": [ 0, -12 ],
    "size": [ 15, 3 ],
    "bindings": [
      {
        "binding_name": "#progress_bar_visible",
        "binding_condition": "visible"
      },
      {
        "binding_name": "#progress_bar_total_amount",
        "binding_condition": "visible"
      },
      {
        "binding_name": "#progress_bar_current_amount",
        "binding_condition": "visible"
      }
    ]
  },

  "inventory_icon_panel": {
    "type": "panel",
    "controls": [
      { "selected_item_icon@common.inventory_selected_icon": { } },
      { "selected_stack_size_text@common.inventory_selected_stack_size_text": { } },
      {
        "hover_text@common.hover_text": {
          "ignored": "$not_touch",
          "layer": 99,
          "bindings": [
            {
              "binding_name": "#hover_text",
              "binding_condition": "visible"
            }
          ]
        }
      }
    ]
  },
  
  "inventory_selected_icon_button": {
    "type": "button",
    "anchor_from": "center",
    "anchor_to": "center",
    "default_control": "default",
    "hover_control": "hover",
    "pressed_control": "pressed",
    "layer": -10,
    "size": [ 18, 18 ],
    "follows_cursor": true,
    "sound_name": "random.click",
    "sound_volume": 1.0,
    "sound_pitch": 1.0,
    "always_handle_pointer": true,
    "controls": [
      { "default@inventory_icon_panel": { } },
      { "pressed@inventory_icon_panel": { } },
      { "hover@inventory_icon_panel": { } },
      { "@common.durability_bar_grabbed": { } }
    ]
  },
  
  "inventory_take_progress_icon_button": {
    "type": "button",
    "default_control": "default",
    "hover_control": "hover",
    "pressed_control": "pressed",
    "layer": -10,
    "size": [ 10, 10 ],
    "follows_cursor": true,
    "sound_name": "random.click",
    "sound_volume": 1.0,
    "sound_pitch": 1.0,
    "always_handle_pointer": true,
    "controls": [
      { "default@inventory_hold_icon": { } },
      { "pressed@inventory_hold_icon": { } },
      { "hover@inventory_hold_icon": { } }
    ]
  },

  "grid_item_for_inventory@common.container_grid_item": {
    "$item_collection_name": "inventory_items"
  },

  "grid_item_for_hotbar@common.container_grid_item": {
    "$item_collection_name": "hotbar_items"
  },

  "hotbar_grid_template": {
    "type": "grid",
    "size": [ 162, 18 ],
    "anchor_from": "bottom_middle",
    "anchor_to": "bottom_middle",
    "offset": [ 0, -7 ],
    "grid_dimensions": [ 9, 1 ],
    "grid_item_template": "common.grid_item_for_hotbar",
    "collection_name": "hotbar_items"
  },

  "inventory_panel": {
    "type": "panel",
    "size": [ 88, 83 ],
    "anchor_from": "bottom_left",
    "anchor_to": "bottom_left",
    "controls": [
      {
        "inventory_grid": {
          "type": "grid",
          "size": [ 162, 54 ],
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "offset": [ 7, 0 ],
          "grid_dimensions": [ 9, 3 ],
          "grid_item_template": "common.grid_item_for_inventory",
          "collection_name": "inventory_items"
        }
      }
    ]
  },

  // Bottom half of ui, inventory panel
  "inventory_panel_bottom_half": {
    "type": "panel",
    "size": [ "100%", "50%" ],
    "anchor_from": "left_middle",
    "anchor_to": "top_left",
    "controls": [
      { "@inventory_panel": { } }
    ]
  },

  "inventory_panel_bottom_half_with_label@inventory_panel_bottom_half": {
    "anchor_from": "bottom_left",
    "anchor_to": "bottom_left",
    "size": [ "100%", 93 ],
    "controls": [
      { "@inventory_panel": { } },
      {
        "inventory_label@section_heading_label": {
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "offset": [ 7, 0 ],
          "text": "container.inventory"
        }
      }
    ]
  },

  // Common panel contains the bg image and the close button
  "common_panel": {
    "type": "panel",
    "$dialog_background|default": "dialog_background_opaque",
    "$show_close_button|default": true,
    "controls": [
      {
        "bg_image@$dialog_background": {
          "layer": 1
        }
      },
      {
        "close@close_button": {
          "layer": 2,
          "visible": "$show_close_button"
        }
      }
    ]
  },

  // Root panel all others parented to
  "root_panel": {
    "type": "input_panel",
    "size": [ 176, 166 ],
    "layer": 1,
    "anchor_from": "center",
    "anchor_to": "center",
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.container_reset_held",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_secondary_select",
        "to_button_id": "button.container_reset_held",
        "mapping_type": "pressed"
      }
    ]
  },

  // Base Input Panel
  "input_panel": {
    "type": "input_panel"
  },

  //---------------------------------------------------------------------------
  // Screens, survival inventory and crafting
  //---------------------------------------------------------------------------

  "base_screen": {
    "type": "screen",
    "vr_mode": "$is_holographic",
    "$lock_touch_scrolling" : "$is_holographic"
  },

  "inventory_screen_common@base_screen": {
    "button_mappings": [
      {
        "from_button_id": "button.menu_cancel",
        "to_button_id": "button.menu_exit",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_inventory_cancel",
        "to_button_id": "button.menu_exit",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_up",
        "to_button_id": "button.menu_up",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_down",
        "to_button_id": "button.menu_down",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_left",
        "to_button_id": "button.menu_left",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_right",
        "to_button_id": "button.menu_right",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.cursor_drop_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_secondary_select",
        "to_button_id": "button.cursor_drop_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_tab_left",
        "to_button_id": "button.menu_tab_left",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_tab_right",
        "to_button_id": "button.menu_tab_right",
        "mapping_type": "global",
        "scope": "view"
      }
    ]
  }
}
